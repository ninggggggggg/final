{% extends "base.html" %}

{% block title %}Trang chá»§ GiÃ¡o viÃªn - Há»‡ thá»‘ng quáº£n lÃ½ tÃ i liá»‡u{% endblock %}

{% block content %}
<div class="container">
    <div class="navbar">
        <div class="user-info">
            <h2>ğŸ‘¨â€ğŸ« ChÃ o sinh viÃªn: {{ session.username }}</h2>
        </div>
        <a href="/logout" class="btn btn-secondary">ğŸšª ÄÄƒng xuáº¥t</a>
    </div>

    <div class="tabs">
        <div class="tab active" onclick="switchTab('upload')">ğŸ“¤ Upload tÃ i liá»‡u</div>
        <div class="tab" onclick="switchTab('search')">ğŸ” TÃ¬m kiáº¿m</div>
    </div>

    <!-- Upload Tab -->
    <div class="tab-content active" id="upload-tab">
        {% if error %}
        <div class="error">
            <strong>âŒ Lá»—i:</strong> {{ error }}
        </div>
        {% endif %}

        <div class="upload-area">
            <form action="/teacher" method="post" enctype="multipart/form-data">
                <h3>ğŸ“ Táº£i lÃªn tÃ i liá»‡u má»›i</h3>
                <p style="color: #666; margin-bottom: 1rem;">Chá»n file Ä‘á»ƒ táº£i lÃªn</p>
                
                <div class="form-group">
                    <input type="file" 
                           name="file" 
                           accept=".pdf,.doc,.docx,.ppt,.pptx,.txt,.jpg,.png,.xlsx,.xls" 
                           required>
                </div>
                
                <button type="submit" class="btn">ğŸ“¤ Táº£i lÃªn</button>
            </form>
        </div>

        <div style="margin-top: 2rem; padding: 1rem; background: #f0f9ff; border-radius: 5px; border-left: 4px solid #0ea5e9;">
            <h4>ğŸ“‹ Äá»‹nh dáº¡ng file Ä‘Æ°á»£c há»— trá»£:</h4>
            <div style="margin-top: 1rem; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 0.5rem;">
                <div>ğŸ“„ <strong>TÃ i liá»‡u:</strong> PDF, DOC, DOCX</div>
                <div>ğŸ“Š <strong>BÃ i thuyáº¿t trÃ¬nh:</strong> PPT, PPTX</div>
                <div>ğŸ“ˆ <strong>Báº£ng tÃ­nh:</strong> XLS, XLSX</div>
                <div>ğŸ–¼ï¸ <strong>HÃ¬nh áº£nh:</strong> JPG, PNG</div>
            </div>
        </div>
    </div>

    <!-- Search Tab -->
    <div class="tab-content" id="search-tab">
        <h3>ğŸ” TÃ¬m kiáº¿m trong tÃ i liá»‡u cá»§a báº¡n</h3>
        
        <form action="/search" method="get" class="search-form">
            <input type="hidden" name="role" value="teacher">
            <input type="text" name="q" placeholder="TÃ¬m kiáº¿m trong tÃ i liá»‡u cá»§a báº¡n..." id="teacher-search-input">
            <button type="submit" class="btn">ğŸ” TÃ¬m kiáº¿m</button>
        </form>

        <div style="margin-top: 2rem; padding: 1rem; background: #fef3c7; border-radius: 5px; border-left: 4px solid #f59e0b;">
            <h4>ğŸ’¡ Máº¹o tÃ¬m kiáº¿m:</h4>
            <div style="margin-top: 1rem;">
                <p>â€¢ TÃ¬m theo tÃªn file: <code>bai_giang_toan</code></p>
                <p>â€¢ TÃ¬m theo pháº§n má»Ÿ rá»™ng: <code>.pdf</code> hoáº·c <code>.ppt</code></p>
                <p>â€¢ TÃ¬m theo tá»« khÃ³a: <code>Ä‘á» thi</code>, <code>bÃ i táº­p</code></p>
                <p>â€¢ Káº¿t há»£p nhiá»u tá»« khÃ³a: <code>toÃ¡n há»c lá»›p 10</code></p>
            </div>
        </div>
    </div>
</div>

<script>

document.addEventListener('DOMContentLoaded', function() {
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('q')) {
        switchTab('search');
        document.getElementById('teacher-search-input').value = urlParams.get('q');
    }
});
</script>
{% endblock %}